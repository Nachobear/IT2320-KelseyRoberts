<html>

<head>
    <style type="text/css">
        #errorMsg {
            display: none;
            color: red;
        }
    </style>
</head>

<body>
    <h2>Kelsey Roberts - IT 2320 - Lab 4</h2>

    <h3 id="errorMsg">Correct the following errors:</h3>

    <form action="https://www.waynedog.net/formreader.php" method="post">
        <table>
            <tr>
                <td>
                    <label for="fname" id="fnameLabel">First Name</label>
                </td>
                <td>

                    <input type="text" name="fname" id="fname">
                </td>
                <td>
                    <label for="lname" id="lnameLabel">Last Name</label>
                </td>
                <td>
                    <input type="text" name="lname" id="lname">
                </td>
            </tr>

            <tr>
                <td>
                    <label for="address1" id="address1Label">Address</label>

                </td>
                <td>
                    <input type="text" name="address1" id="address1">
                </td>
                <td>
                    <label for="address2" id="address2Label">Suite or Apt.</label>
                </td>
                <td>
                    <input type="text" name="address2" id="address2">
                </td>
            </tr>

            <tr>
                <td>
                    <label for="city" id="cityLabel">City</label>

                </td>
                <td>
                    <input type="text" name="city" id="city">
                </td>
                <td>
                    <label for="state" id="stateLabel">State</label>
                </td>
                <td>
                    <select name="state" id="state">
                        <option value="">Select a state</option>option</option>
                        <option value="AL">Alabama</option>
                        <option value="AK">Alaska</option>
                        <option value="AZ">Arizona</option>
                        <option value="AR">Arkansas</option>
                        <option value="CA">California</option>
                        <option value="CO">Colorado</option>
                        <option value="CT">Connecticut</option>
                        <option value="DE">Delaware</option>
                        <option value="DC">Dist of Columbia</option>
                        <option value="FL">Florida</option>
                        <option value="GA">Georgia</option>
                        <option value="HI">Hawaii</option>
                        <option value="ID">Idaho</option>
                        <option value="IL">Illinois</option>
                        <option value="IN">Indiana</option>
                        <option value="IA">Iowa</option>
                        <option value="KS">Kansas</option>
                        <option value="KY">Kentucky</option>
                        <option value="LA">Louisiana</option>
                        <option value="ME">Maine</option>
                        <option value="MD">Maryland</option>
                        <option value="MA">Massachusetts</option>
                        <option value="MI">Michigan</option>
                        <option value="MN">Minnesota</option>
                        <option value="MS">Mississippi</option>
                        <option value="MO">Missouri</option>
                        <option value="MT">Montana</option>
                        <option value="NE">Nebraska</option>
                        <option value="NV">Nevada</option>
                        <option value="NH">New Hampshire</option>
                        <option value="NJ">New Jersey</option>
                        <option value="NM">New Mexico</option>
                        <option value="NY">New York</option>
                        <option value="NC">North Carolina</option>
                        <option value="ND">North Dakota</option>
                        <option value="OH">Ohio</option>
                        <option value="OK">Oklahoma</option>
                        <option value="OR">Oregon</option>
                        <option value="PA">Pennsylvania</option>
                        <option value="RI">Rhode Island</option>
                        <option value="SC">South Carolina</option>
                        <option value="SD">South Dakota</option>
                        <option value="TN">Tennessee</option>
                        <option value="TX">Texas</option>
                        <option value="UT">Utah</option>
                        <option value="VT">Vermont</option>
                        <option value="VA">Virginia</option>
                        <option value="WA">Washington</option>
                        <option value="WV">West Virginia</option>
                        <option value="WI">Wisconsin</option>
                        <option value="WY">Wyoming</option>
                    </select>
                </td>
            </tr>

            <tr>
                <td>
                    <label for="zipcode" id="zipcodeLabel">ZIP Code</label>
                </td>
                <td>
                    <input type="text" name="zipcode" id="zipcode">
                </td>
                <td></td>
                <td></td>
            </tr>

            <tr>
                <td>
                    <label id="genderLabel">Gender</label>
                </td>
                <td>
                    <input type="radio" name="gender" id="male" value="male">Male
                    <input type="radio" name="gender" id="female" value="female">Female
                </td>
                <td>
                    <label for="dob" id="dobLabel">Birthdate</label>
                </td>
                <td>
                    <input type="date" name="dob" id="dob">
                </td>
            </tr>

            <tr>
                <td>
                    <label for="mstatus" id="mstatusLabel">Marital Status</label>
                </td>
                <td>
                    <select name="mstatus" id="mstatus">
                        <option value="">Choose one</option>option</option>
                        <option value="single">Single</option>
                        <option value="married">Married</option>
                    </select>
                </td>
                <td>
                    <label for="sname" id="snameLabel">Spouse name</label>
                </td>
                <td>
                    <input type="text" name="sname" id="sname">
                </td>
            </tr>

            <tr>
                <td>
                    <label for="email" id="emailLabel">Email</label>
                </td>
                <td>
                    <input type="text" name="email" id="email">
                </td>
                <td>
                    <label for="phone" id="phoneLabel">Phone</label>
                </td>
                <td>
                    <input type="text" name="phone" id="phone">
                </td>
            </tr>

            <tr>
                <td>
                    <label for="password" id="passwordLabel">Password</label>
                </td>
                <td>
                    <input type="text" name="password" id="password">
                </td>
                <td>
                    <label for="password2" id="password2Label">Confirm Password</label>
                </td>
                <td>
                    <input type="text" name="password2" id="password2">
                </td>
            </tr>

            <tr>
                <td>
                    <input type="button" id="resetButton" value="RESET">
                </td>
                <td>
                    <input type="button" id="submitButton" value="SUBMIT">
                </td>
            </tr>
        </table>
    </form>

    <script>
        "use strict";

        const $ = selector => document.querySelector(selector);

        const displayErrorMsg = isValid => {
            if (isValid == false) {
                $("#errorMsg").style.display = 'block';
            }
            else {
                $("#errorMsg").style.display = 'none';
            }
        }

        const processEntries = () => {
            let isValid = true;

            if ($("#fname").value == "") {
                isValid = false;
                $("#fnameLabel").style.color = "red";
            } else {
                $("#fnameLabel").style.color = "black";
            }

            if ($("#lname").value == "") {
                isValid = false;
                $("#lnameLabel").style.color = "red";
            } else {
                $("#lnameLabel").style.color = "black";
            }

            if ($("#address1").value == "") {
                isValid = false;
                $("#address1Label").style.color = "red";
            } else {
                $("#address1Label").style.color = "black";
            }

            if ($("#address2").value == "") {
                isValid = false;
                $("#address2Label").style.color = "red";
            } else {
                $("#address2Label").style.color = "black";
            }

            if ($("#city").value == "") {
                isValid = false;
                $("#cityLabel").style.color = "red";
            } else {
                $("#cityLabel").style.color = "black";
            }

            if ($("#state").value == "") {
                isValid = false;
                $("#stateLabel").style.color = "red";
            } else {
                $("#stateLabel").style.color = "black";
            }

            if ($("#zipcode").value == "") {
                isValid = false;
                $("#zipcodeLabel").style.color = "red";
            } else {
                $("#zipcodeLabel").style.color = "black";
            }

            if (!($("#male").checked || $("#female").checked)) {
                isValid = false;
                $("#genderLabel").style.color = "red";
            } else {
                $("#genderLabel").style.color = "black";
            }

            if ($("#dob").value == "") {
                isValid = false;
                $("#dobLabel").style.color = "red";
            } else {
                $("#dobLabel").style.color = "black";
            }

            if ($("#mstatus").value == "") {
                isValid = false;
                $("#mstatusLabel").style.color = "red";
            } else {
                $("#mstatusLabel").style.color = "black";
            }

            if (($("#mstatus").value == "married" && $("#sname").value == "") || ($("#mstatus").value == "" && $("#sname").value == "")) {
                isValid = false;
                $("#snameLabel").style.color = "red";
            } else {
                $("#snameLabel").style.color = "black";
            }

            if ($("#email").value == "") {
                isValid = false;
                $("#emailLabel").style.color = "red";
            } else {
                $("#emailLabel").style.color = "black";
            }

            if ($("#phone").value == "") {
                isValid = false;
                $("#phoneLabel").style.color = "red";
            } else {
                $("#phoneLabel").style.color = "black";
            }

            if ($("#password").value == "") {
                isValid = false;
                $("#passwordLabel").style.color = "red";
            } else {
                $("#passwordLabel").style.color = "black";
            }

            if ($("#password2").value == "" || $("#password2").value != $("#password").value) {
                isValid = false;
                $("#password2Label").style.color = "red";
            } else {
                $("#password2Label").style.color = "black";
            }


            displayErrorMsg(isValid);
            if (isValid == true) {
                $("form").submit();
            }
        }

        const resetForm = () => {
            $("form").reset();
            $("#fname").focus();
            displayErrorMsg(true);
            const labels = $("form").querySelectorAll("label");
            for (let i = 0; i < labels.length; i++) {
                labels[i].style.color = "black";
            }

        }

        const disableSpouseName = () => {
            if ($("#mstatus").value == "single") {
                $("#sname").disabled = true;
            } else {
                $("#sname").disabled = false;
            }
        }

        document.addEventListener("DOMContentLoaded", () => {
            $("#resetButton").addEventListener("click", resetForm);
            $("#submitButton").addEventListener("click", processEntries);
            $("#mstatus").addEventListener("change", disableSpouseName);
            $("#fname").focus();

        });
    </script>


</body>

</html>
