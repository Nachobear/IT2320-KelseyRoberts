<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
        // script 
        "use strict";

        $(document).ready(() => {

            $("form").submit(event => {

                //1.)get # of words
                let entryString = $("#textArea").val().trim();
                //the line below is just to get rid of extra spaces inside the string
                //(someone shared how to do it on stackoverflow.com)
                entryString = entryString.replace(/\s+/g, " ");
                let wordsArray = entryString.split(" ");
                let numOfWords = wordsArray.length;
                $("#numOfwordsDisplay").html(numOfWords);


                //2.)display how many occurances of the search character there are
                let occurances = 0;
                for (let i = 0; i < entryString.length; i++) {
                    if (entryString.charAt(i).toUpperCase() == $("#searchChar").val())
                        occurances += 1;
                }
                $("#numOfCharOccurances").html(occurances);

                //3.)make the users entry display in all uppercase
                let originalString = $("textArea").val().toUpperCase();
                let capsString = "";
                //this loop makes it so that spaces are displayed on the html element
                for (let i = 0; i < originalString.length; i++) {
                    if (originalString.charAt(i) == " ") {
                        capsString = capsString.concat("&nbsp");
                    } else {
                        capsString = capsString.concat(originalString.charAt(i));
                    }
                }
                $("#stringCaps").html(capsString);

                //4.)display the entered text with the search character removed
                let originalEntryString = $("textArea").val();
                let stringWithCharRemoved = "";

                for (let i = 0; i < originalEntryString.length; i++) {

                    if (originalEntryString.charAt(i).toUpperCase() != $("#searchChar").val()) {
                        if (originalEntryString.charAt(i) == " ") {
                            stringWithCharRemoved = stringWithCharRemoved.concat("&nbsp");
                        } else {
                            stringWithCharRemoved = stringWithCharRemoved.concat(originalEntryString.charAt(i));
                            console.log(stringWithCharRemoved);
                        }
                    }
                }
                $("#stringCharRemoved").html(stringWithCharRemoved);

                //5.)add the days to the current date
                let modifiedDate = new Date();
                modifiedDate.setDate(parseInt(modifiedDate.getDate()) + parseInt($("#numDays").val()));
                let month = modifiedDate.getMonth() + 1;
                let day = modifiedDate.getDate();
                let year = modifiedDate.getFullYear();
                let modifiedDateString = (month + "/" + day + "/" + year);
                $("#newDate").html(modifiedDateString);

                event.preventDefault();

            });


        });
    </script>
    <style>
        table {
            border-collapse: separate;
            border-spacing: 15px;
        }
    </style>
</head>

<body>
    <h2>Kelsey Roberts - IT 2320 - Lab 10</h2>
    <h3>Working with Strings and Dates</h3>
    <form>
        <table>
            <tr>
                <td>Select the <strong>Search Character</strong>:</td>
                <td><select id="searchChar">
                        <option value=""></option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="G">G</option>
                        <option value="H">H</option>
                        <option value="I">I</option>
                        <option value="J">J</option>
                        <option value="K">K</option>
                        <option value="L">L</option>
                        <option value="M">M</option>
                        <option value="N">N</option>
                        <option value="O">O</option>
                        <option value="P">P</option>
                        <option value="Q">Q</option>
                        <option value="R">R</option>
                        <option value="S">S</option>
                        <option value="T">T</option>
                        <option value="U">U</option>
                        <option value="V">V</option>
                        <option value="W">W</option>
                        <option value="X">X</option>
                        <option value="Y">Y</option>
                        <option value="Z">Z</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Type or paste in some text:</td>
                <td><textarea id="textArea" cols="40" rows="15"></textarea></td>
            </tr>
            <tr>
                <td>Date Modifier - Number of Days:</td>
                <td><input type="number" id="numDays"></td>
            </tr>
            <tr>
                <td>Number of words entered:</td>
                <td id="numOfwordsDisplay"> **** </td>
            </tr>
            <tr>
                <td>Number of occurances of the search character:</td>
                <td id="numOfCharOccurances"> **** </td>
            </tr>
            <tr>
                <td>Display the entered text in <strong>ALL CAPS</strong>:</td>
                <td id="stringCaps"> **** </td>
            </tr>
            <tr>
                <td>Display the entered text with the search character <strong>removed</strong>:</td>
                <td id="stringCharRemoved"> **** </td>
            </tr>
            <tr>
                <td>Add the number of days in Date Modifier to the current date<br />Display the resulting date as
                    MM/DD/YYYY:</td>
                <td id="newDate"> **** </td>
            </tr>
            <tr>
                <td><input type="reset" id="reset" name="reset" value="Reset"></td>
                <td><input type="submit" id="submit" name="submit" value="Submit"></td>
            </tr>

        </table>
    </form>
</body>

</html>
